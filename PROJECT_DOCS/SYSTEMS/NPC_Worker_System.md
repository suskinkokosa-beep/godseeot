# Система NPC-работников

## Обзор

Система NPC-работников Isleborn Online позволяет игрокам нанимать NPC, назначать им задания и управлять их прогрессией.

## Типы NPC

1. **WORKER (Рабочий)** - Собирает ресурсы, помогает в строительстве
2. **GUARD (Стражник)** - Охраняет остров, патрулирует
3. **FISHER (Рыбак)** - Ловит рыбу, управляет лодками
4. **SMITH (Кузнец)** - Крафтит оружие и инструменты
5. **BUILDER (Строитель)** - Строит и ремонтирует постройки
6. **NAVIGATOR (Навигатор)** - Исследует океан, управляет навигацией

## Система заданий

### Типы заданий

- **GATHER_RESOURCE** - Собрать ресурс
- **BUILD** - Строить
- **REPAIR** - Ремонтировать
- **CRAFT** - Крафтить
- **FISH** - Рыбачить
- **PATROL** - Патрулировать
- **GUARD** - Охранять
- **FARM** - Работать на ферме

### Структура задания

```gdscript
{
    "id": "task_123",
    "task_type": TaskType.GATHER_RESOURCE,
    "target_id": "resource_node_id",
    "assigned_npc_id": "npc_id",
    "priority": 1-5,
    "duration": 10.0,
    "progress": 0.0,
    "requirements": {},
    "rewards": {}
}
```

## Эффективность NPC

Эффективность зависит от:
- **Уровня NPC** - Базовый бонус
- **Навыков** - Специфичные навыки для типа задания
- **Настроения** - Влияет на скорость работы
- **Лояльности** - Влияет на качество работы

Формула:
```
Эффективность = (1 + Уровень * 0.05) * (1 + Навык * 0.1) * (0.5 + Настроение/100)
```

## Прогрессия

- NPC получают опыт за выполнение заданий
- При повышении уровня увеличивается здоровье
- Навыки улучшаются при использовании
- Низкая лояльность может привести к дезертирству

