# Система Квестов

## Обзор

Система квестов Isleborn Online поддерживает различные типы заданий для игроков, цепочки квестов и систему наград.

## Типы квестов

### 1. Убить (KILL)
- Убить определённое количество монстров
- Может требовать конкретного типа монстра или любого

### 2. Собрать (GATHER)
- Собрать определённое количество ресурсов
- Может требовать конкретный ресурс

### 3. Доставить (DELIVER)
- Доставить предмет NPC или локацию
- Требует наличие предмета в инвентаре

### 4. Исследовать (EXPLORE)
- Посетить определённую локацию
- Автоматическое завершение при достижении

### 5. Создать (CRAFT)
- Создать определённый предмет через крафт
- Требует наличие рецепта и материалов

### 6. Сопроводить (ESCORT)
- Сопроводить NPC до точки назначения
- Защита NPC от монстров

### 7. Защитить (DEFEND)
- Защитить объект или локацию
- Удержать позицию определённое время

## Структура квеста

### Обязательные поля
- **ID**: Уникальный идентификатор
- **Название**: Отображаемое имя квеста
- **Описание**: Описание задания
- **Тип**: Один из 7 типов квестов
- **Цели**: Массив целей для выполнения

### Цели квеста
Каждый квест может иметь несколько целей, выполняемых последовательно:
```gdscript
{
    "type": "gather",
    "item_id": "palm_wood",
    "required": 10,
    "current": 0,
    "completed": false
}
```

### Награды
- **Опыт**: Количество опыта за выполнение
- **Предметы**: Массив предметов с количеством
- **Валюта**: Словарь валют (золото, ракушки и т.д.)

### Требования
- **Уровень**: Минимальный уровень персонажа
- **Предварительные квесты**: Список ID квестов, которые должны быть выполнены

## Статусы квестов

1. **NOT_ACCEPTED** - Квест доступен, но не принят
2. **IN_PROGRESS** - Квест активен, выполняется
3. **COMPLETED** - Квест выполнен, награды получены
4. **FAILED** - Квест провален (временное ограничение и т.д.)

## Прогресс квестов

Система автоматически отслеживает прогресс через события:
- Убийство монстров обновляет квесты типа KILL
- Сбор ресурсов обновляет квесты типа GATHER
- Создание предметов обновляет квесты типа CRAFT

## Примеры квестов

### "Первые шаги"
- Тип: GATHER
- Цель: Собрать 10 пальмовой древесины
- Награда: 100 XP + каменный нож
- Требования: Уровень 1

### "Охотник на монстров"
- Тип: KILL
- Цель: Убить 5 рифовых угрей
- Награда: 250 XP + деревянный меч
- Требования: Уровень 3, квест "Первые шаги" выполнен

